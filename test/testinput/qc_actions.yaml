window begin: 2018-01-01T00:00:00Z
window end: 2019-01-01T00:00:00Z

observations:
# Test "inflate error" with a constant inflation factor
# and only second variable filtered
- obs space:
    name: test data
    obsdatain:
      obsfile: Data/ufo/testinput_tier_1/filters_testdata.nc4
    simulated variables: [variable1, variable2, variable3]
  HofX: HofX
  obs filters:
  - filter: BlackList
    filter variables:
    - name: variable2
    action:
      name: inflate error
      inflation factor: 2.0
  compareVariables:
  - test:
      name: variable1@EffectiveError
    reference:
      name: variable1@ObsError
  - test:
      name: variable2@EffectiveError
    reference:
      name: variable2_inflatederror_factor@TestReference
  - test:
      name: variable3@EffectiveError
    reference:
      name: variable3@ObsError

# Test "inflate error" with a constant inflation factor
# and all variables filtered
- obs space:
    name: test data
    obsdatain:
      obsfile: Data/ufo/testinput_tier_1/filters_testdata.nc4
    simulated variables: [variable1, variable2, variable3]
  HofX: HofX
  obs filters:
  - filter: BlackList
    action:
      name: inflate error
      inflation factor: 2.0
  compareVariables:
  - test:
      name: variable1@EffectiveError
    reference:
      name: variable1_inflatederror_factor@TestReference
  - test:
      name: variable2@EffectiveError
    reference:
      name: variable2_inflatederror_factor@TestReference
  - test:
      name: variable3@EffectiveError
    reference:
      name: variable3_inflatederror_factor@TestReference


# Test "inflate error" with an inflation variable (metadata)
# and only second variable filtered
- obs space:
    name: test data
    obsdatain:
      obsfile: Data/ufo/testinput_tier_1/filters_testdata.nc4
    simulated variables: [variable1, variable2, variable3]
  HofX: HofX
  obs filters:
  - filter: BlackList
    filter variables:
    - name: variable2
    action:
      name: inflate error
      inflation variable:
        name: var1@MetaData
  compareVariables:
  - test:
      name: variable1@EffectiveError
    reference:
      name: variable1@ObsError
  - test:
      name: variable2@EffectiveError
    reference:
      name: variable2_inflatederror_var@TestReference
  - test:
      name: variable3@EffectiveError
    reference:
      name: variable3@ObsError


# Test "inflate error" with an inflation variable (metadata)
# and all variables filtered
- obs space:
    name: test data
    obsdatain:
      obsfile: Data/ufo/testinput_tier_1/filters_testdata.nc4
    simulated variables: [variable1, variable2, variable3]
  HofX: HofX
  obs filters:
  - filter: BlackList
    action:
      name: inflate error
      inflation variable:
        name: var1@MetaData
  compareVariables:
  - test:
      name: variable1@EffectiveError
    reference:
      name: variable1_inflatederror_var@TestReference
  - test:
      name: variable2@EffectiveError
    reference:
      name: variable2_inflatederror_var@TestReference
  - test:
      name: variable3@EffectiveError
    reference:
      name: variable3_inflatederror_var@TestReference

obs space:
  name: amsua_aqua
  obsdatain:
    obsfile: $(experiment_dir)/{{current_cycle}}/amsua_aqua.{{window_begin}}.nc4
  obsdataout:
    obsfile: $(experiment_dir)/{{current_cycle}}/$(experiment).amsua_aqua.{{window_begin}}.nc4
  simulated variables: [brightness_temperature]
  channels: &amsua_aqua_channels 1-15
obs operator:
  name: CRTM
  Absorbers: [H2O,O3,CO2]
  Clouds: [Water, Ice]
  Cloud_Fraction: 1.0
  obs options:
    Sensor_ID: amsua_aqua
    EndianType: little_endian
    CoefficientPath: $(jedi_build)/ufo/test/Data/
obs filters:
#  Inter-channel check
- filter: Bounds Check
  filter variables:
  - name: brightness_temperature
    channels: *amsua_aqua_channels
  test variables:
  - name: InterChannelConsistencyCheck@ObsFunction
    channels: *amsua_aqua_channels
    options:
      channels: *amsua_aqua_channels
      sensor: amsua_aqua
      use_flag: [ -1, -1, -1, -1, -1,
                  -1, -1,  1,  1,  1,
                   1,  1,  1, -1, -1 ]
  maxvalue: 1.0e-12
  action:
    name: reject
#  Useflag check
- filter: Bounds Check
  filter variables:
  - name: brightness_temperature
    channels: *amsua_aqua_channels
  test variables:
  - name: ChannelUseflagCheckRad@ObsFunction
    channels: *amsua_aqua_channels
    options:
      channels: *amsua_aqua_channels
      use_flag: [ -1, -1, -1, -1, -1,
                  -1, -1,  1,  1,  1,
                   1,  1,  1, -1, -1 ]
  minvalue: 1.0e-12
  action:
    name: reject
